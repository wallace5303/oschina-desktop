(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35cb47ae"],{"79af":function(t,e,s){},"9e8e":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"information-news-index"}},[e("div",{staticClass:"one-block-1"},[e("a-tabs",{attrs:{"default-active-key":"1"},on:{change:t.changeTab}},t._l(t.tabs,(function({id:s,name:n}){return e("a-tab-pane",{key:s},[e("span",{attrs:{slot:"tab"},slot:"tab"},[t._v(" "+t._s(n)+" ")]),e("div",{staticClass:"one-block-3"},[e("a-list",{attrs:{"item-layout":"vertical",size:"large","data-source":t.itemList},scopedSlots:t._u([{key:"renderItem",fn:function(s){return e("a-list-item",{key:"item.title"},[t._l(t.actions,(function({type:n}){return e("template",{slot:"actions"},[e("span",{key:n},[e("a-icon",{staticStyle:{"margin-right":"8px"},attrs:{type:n}}),t._v(" "+t._s(t.dealActions(n,s))+" ")],1)])})),e("a-list-item-meta",[e("a",{staticClass:"news-title",attrs:{slot:"title",href:"#"},on:{click:function(e){return t.showDetail(s.id)}},slot:"title"},[t._v(t._s(s.title))])])],2)}}],null,!0)})],1)])})),1)],1),e("div",{staticClass:"one-block-2"},[e("a-drawer",{attrs:{title:t.newsTitle,width:"100%",visible:t.detailVisible,"body-style":{panding:"10px"},"header-style":{textAlign:"center"}},on:{close:t.onDetailClose}},[e("a-space",{style:{fontSize:"14px"}},[e("span",[t._v("作者："+t._s(t.newsContent.author))]),e("span",[t._v(t._s(t.newsContent.pubDate))]),e("span",[e("a-icon",{attrs:{type:"message"}}),t._v(" "+t._s(t.newsContent.commentCount))],1)]),e("div",{style:{fontSize:"14px",color:"#000"}},[e("p"),e("div",{domProps:{innerHTML:t._s(t.newsContent.body)}})])],1)],1)])},a=[],i=s("cff8"),o=s.n(i),l=s("2ef0"),c=s.n(l),r=s("a358"),u={data(){return{auth_token:"",currentPage:1,perPage:5,itemList:[],catalogText:{1:"综合新闻",2:"软件更新",3:"所有"},newsCount:0,newsTypeText:{0:"链接新闻",1:"软件推荐",2:"讨论区帖子",3:"博客",4:"普通新闻",7:"翻译文章"},detailVisible:!1,loading:!1,tabs:[{id:"1",name:"综合新闻"},{id:"2",name:"软件更新"},{id:"3",name:"最新资讯"}],currentTabKey:"1",actions:[{type:"user",text:""},{type:"tag",text:""},{type:"message",text:""},{type:"calendar",text:""}],newsTitle:"",newsContent:""}},mounted(){this.init(),this.getNews()},methods:{init(){const t=o.a.get("token_info");this.auth_token=t.access_token},getNews(){const t={access_token:this.auth_token,catalog:this.currentTabKey,page:this.currentPage,pageSize:this.perPage,dataType:"json"};this.$ipcInvoke(r["a"].oschina.getNews,t).then(t=>{this.itemList=t.newslist,console.log("itemList:",this.itemList)})},getNewsDetail(t){const e={access_token:this.auth_token,id:t,dataType:"json"};this.$ipcInvoke(r["a"].oschina.getNewsDetail,e).then(t=>{console.log("res:",t),c.a.isEmpty(t)&&this.$message.error("数据不存在"),this.newsContent=t,this.newsTitle=t.title})},changeTab(t){this.currentTabKey=t,this.currentPage=1,console.log("currentTabKey:",this.currentTabKey),this.getNews()},dealActions(t,e){let s="";return"user"==t?s=e.author:"tag"==t?s=this.newsTypeText[e.type]||"其它":"message"==t?s=e.commentCount:"calendar"==t&&(s=e.pubDate),s},showDetail(t){this.detailVisible=!0,this.getNewsDetail(t)},onDetailClose(){console.log("sssss"),this.detailVisible=!1}}},h=u,p=(s("f488"),s("2877")),d=Object(p["a"])(h,n,a,!1,null,"7819619c",null);e["default"]=d.exports},f488:function(t,e,s){"use strict";s("79af")}}]);
//# sourceMappingURL=chunk-35cb47ae.7cf85aae.js.map